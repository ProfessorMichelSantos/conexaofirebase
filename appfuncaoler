auth = FirebaseAuth.getInstance()
        val usuarioAtual = auth.currentUser

        if (usuarioAtual != null) {
            val uid = usuarioAtual.uid
            val db = FirebaseFirestore.getInstance()

            val usuario = Usuario(
                nome = nome,
                endereco = endereco,
                criadoem = System.currentTimeMillis().toString()
            )

            // Grava os dados no documento com o UID do usuário
            db.collection("usuarios").document(uid).set(usuario)
                .addOnSuccessListener {
                    Log.d("Firebase", "Usuário salvo com sucesso!")
                }
                .addOnFailureListener { e ->
                    Log.e("Firebase", "Erro ao salvar usuário", e)
                }
        } else {
            Log.w("Firebase", "Usuário não está autenticado")
        }

    }
